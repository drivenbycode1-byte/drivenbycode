{% extends 'dbc_app/base.html' %}

{% block page_header %}
<div class="p-3 mb-4">
  <div class="container-fluid py-4">
    <h1 class="display-5 oswald-subrayado">¬°Hola!</h1>
    <p class="lead oswald">
      Mi nombre es Diego Silva Baeza y en diciembre del a√±o 2023 sufr√≠ un accidente en moto que me provoc√≥ 
      una lesi√≥n medular y me dej√≥ con una paraplejia incompleta a nivel T4.
      Cre√© esta p√°gina para que sea una ventana en donde puedan asomarse y ver una parte de mi vida, y tambi√©n para poder
      aludir a quienes se sientan en lo m√°s profundo. 
      Publicar√© mis proyectos, mis avances con la electroestimulaci√≥n, mi recorrido por el paraatletismo,
      mi pasi√≥n por la programaci√≥n, expresar√© mis pensamientos en el blog y estar√© dando noticias de mi primer libro.<br><br>
      ¬°Que el viaje y el final valgan la pena!
    </p>
  </div>
</div>
{% endblock page_header %}

{% block content %}
<div class="row">
  <!-- üß± Columna principal: 3/4 del ancho -->
  <div class="col-12 col-md-9">
    <div class="text-center my-5">
      <p class="text-start fs-3 oswald">Posts</p>

      <div class="blog-section my-4">
        {% for entry in blog_entries %}
          <div class="mb-4 p-3 border rounded bg-white text-start">
            <small class="text-muted d-block mb-2">
              Publicado el {{ entry.data_added|date:"d M Y H:i" }}
            </small>
            <h4>{{ entry.title }}</h4>

            {% if entry.source == 'markdown' %}
              <div>{{ entry.text|safe }}</div>
            {% else %}
              <div>{{ entry.text|truncatewords:85|safe }}...</div>
            {% endif %}

            {% if entry.topic %}
              <a href="{% url 'dbc_app:proyectos' entry.topic.id %}" class="btn btn-outline-dark btn-sm mt-2">
                Leer m√°s ‚Üí
              </a>
            {% else %}
              <a href="{% url 'dbc_app:proyectos' entry.dbc_id %}" class="btn btn-outline-secondary btn-sm mt-2">
                Leer m√°s ‚Üí
              </a>
            {% endif %}

            <span class="badge 
              {% if entry.topic %}
                {% if entry.topic.id == 1 %}bg-primary
                {% elif entry.topic.id == 2 %}bg-secondary
                {% elif entry.topic.id == 3 %}bg-success
                {% elif entry.topic.id == 4 %}bg-warning
                {% elif entry.topic.id == 6 %}bg-danger
                {% else %}bg-secondary{% endif %}
              {% elif entry.dbc_id %}
                {% if entry.dbc_id == 1 %}bg-primary
                {% elif entry.dbc_id == 2 %}bg-secondary
                {% elif entry.dbc_id == 3 %}bg-success
                {% elif entry.dbc_id == 4 %}bg-warning
                {% elif entry.dbc_id == 6 %}bg-danger
                {% else %}bg-info{% endif %}
              {% endif %}
            mt-2 d-inline-block">
              {% if entry.topic %}
                Categor√≠a: {{ entry.topic.text }}
              {% elif entry.dbc_id %}
                Secci√≥n especial: √≠ndice/{{ entry.dbc_id }}
              {% endif %}
            </span>
          </div>
        {% endfor %}
      </div>

      <div class="text-start mt-3 oswald">
        <a href="{% url 'dbc_app:todos_los_posts' %}" class="btn btn-dark btn-lg">
          üìö Ver todos los posteos
        </a>
      </div>

      <figcaption class="blockquote-footer">
        Driven by Code ¬∑ La forma cambia, el prop√≥sito se afina.
      </figcaption>
    </div>
  </div>

  <!-- üéØ Columna lateral derecha: 1/4 del ancho -->
  <div class="col-12 col-md-3 mt-4 mt-md-0">
    <p class="text-muted medium text-center mt-2">S√≠gueme en el viaje</p>

    <div class="d-flex flex-md-column justify-content-md-start align-items-center gap-3">
      <a href="https://www.instagram.com/spiritinmotion__/" target="_blank" class="text-decoration-none">
        <i class="bi bi-instagram fs-3"></i>
      </a>
      <a href="https://www.tiktok.com/@diegosilvabaeza" target="_blank" class="text-decoration-none">
        <i class="bi bi-tiktok fs-3"></i>
      </a>
      <a href="https://www.youtube.com/@SpiritInMotion__" target="_blank" class="text-decoration-none">
        <i class="bi bi-youtube fs-3"></i>
      </a>
    </div>
  </div>
</div>
{% endblock content %}
